---
title: Vue指令学习
date: 2021-07-22 20:37:18
tags: Vue
category: Vue
---

### 定义

在 vue 中提供了一些对于页面 + 数据的更为方便的输出,这些操作就叫做指令, 以 v-xxx 表示

### vue 中常用的 v-指令

-   v-text 其实就是给元素的 innerText 赋值，只能用在双标签中 相当于插值表达试 `{{}}`
-   v-html 就是给元素的 innerHTML 赋值
-   v-if 判断是否插入这个元素
-   v-else-if 判断是否插入这个元素
-   v-else 判断是否插入这个元素
-   v-show 隐藏元素 如果确定要隐藏, 会给元素的 style 加上 display:none
    > v-if 家族都是对元素进行插入和移除的操作 v-show 是显示与否的问题。 v-if 家族使用必须是相同嵌套层相邻的 兄弟元素
-   v-model 双向数据绑定,针对的 js 内存对象,写在那个元素上，就对哪个元素操作
-   v-bind 可以给已经存在的属性赋值 input value 简写方式 v-bind:xx="x" => :xx="x"
    > v-bind 和 v-model 的区别，在于，双向数据绑定 页面对于 input 的 value 改变，能影响内存中 name 变量，内存 js 改变 name 的值，会影响页面重新渲染最新值。bind,单向数据绑定 内存改变影响页面改变
-   v-on 处理自定义原生事件的,给按钮添加 click 并让使用变量的样式改变 简写： v-on:fn="表达式||函数名" => @fn="表达式||函数名"
-   v-for 循环遍历数据 v-for="(item,index) in arr" v-for="(value,key,index) in Obj"
    > key 值， 都会说要拿一个唯一识别做渲染。由于 Vue 和 React 的虚拟 DOM diff 算法大致相同，我们需要使用 key 来给每个节点做一个唯一标识，Diff 算法就可以正确的识别此节点，找到正确的位置区插入新的节点，节约性能，更高效的更新 virtual DOM [key 值运用](https://cn.vuejs.org/v2/api/#key)

### 不常用

-   v-pre 主要用来跳过这个元素和它的子元素编译过程
-   v-cloak 这个指令是用来保持在元素上直到关联实例结束时进行编译。
-   v-once 关联的实例，只会渲染一次。之后的重新渲染，实例极其所有的子节点将被视为静态内容跳过，这可以用于优化更新性能。

### 修饰符

#### v-on / @ 事件修饰符

-   .stop 阻止事件继续传播冒泡
-   .prevent 事件不再重载
-   .capture 使用事件捕获模式,即元素自身触发的事件先在此处处理，然后才交由内部元素进行处理
-   .self 只当在 event.target 是当前元素自身时触发处理函数
-   .once 事件将只会触发一次
-   .passive 告诉浏览器你不想阻止事件的默认行为

#### v-model 修饰符

-   .lazy 默认情况下，v-model 同步输入框的值和数据。可以通过这个修饰符，转变为在 change 事件再同步。
-   .number 自动将用户的输入值转化为数值类型。 会转换成 NAN
-   .trim 自动过滤用户输入的首尾空格，string 格式

#### 自定义事件修饰符

-   .sync 只是作为一个编译时的语法糖存在。它会被扩展为一个自动更新父组件属性的 v-on 监听器。当一个子组件改变了一个 prop 的值时，这个变化也会同步到父组件中所绑定。如果我们不用.sync，我们想做上面的那个弹窗功能，我们也可以 props 传初始值，然后事件监听，实现起来也不算复杂。

> 修饰符可以串联使用，但要注意顺序。例如： 用 v-on:click.prevent.self 会阻止所有的点击，而 v-on:click.self.prevent 只会阻止对元素自身的点击。

![BG图片](/img/1.jpg)
