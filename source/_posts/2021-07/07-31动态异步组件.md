---
title: 动态组件/异步组件
date: 2021-07-31 10:27:08
tags: Vue
category: Vue
---

### 动态组件

一个多标签的界面中使用 is 来切换不同的组件,并可参考[keep-alive 组件](https://cn.vuejs.org/v2/api/#keep-alive)将动态组件状态储存起来

```
component :is="nextName"></component>

import next from './next'
export default {
  components:{
    next,
  },
  data() {
    return {
      nextName:"next"
    };
  },

};
```

#### 切换不同的页面

```
<div id="example">
  <button @click="change">切换页面</button>
  <component :is="currentView"></component>
</div>

new Vue({
  el: '#example',
  data:{
    index:0,
    arr:[
      {template:`<div>我是页面A</div>`},
      {template:`<div>我是页面B</div>`},
      {template:`<div>我是页面C</div>`}
    ],
  },
  computed:{
    currentView(){
        return this.arr[this.index];
    }
  },
  methods:{
    change(){
      this.index = (++this.index)%3;
    }
  }
})
```

### 异步组件

异步组件就是定义的时候不做渲染运算，只在组件需要渲染（组件第一次显示）的时候进行加载渲染并缓存，缓存是以备下次访问。

#### Vue 实现按需加载

import() 函数 按需加载，异步加载大组件

```

<FromDemo v-if="show"/>
<button @click="show=true"></button>


components:{
  FromDemo:()=>import('../FromDemo')
}


```

![BG图片](/img/1.jpg)
